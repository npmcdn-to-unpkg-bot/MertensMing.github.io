---
title: CSS最佳实践之高性能的 CSS
date: 2016-02-2定义过多的层级 16:39:10
categories: 前端规范
tags: CSS
---

## 使用高效的 CSS 选择器

CSS 选择器匹配的原理和我们习惯的匹配过程是相反的，是从右到左进行匹配的。

1. 避免通配符选择器
2. 避免使用标签选择器及单个属性选择器作为关键选择器
3. 不要在 ID 选择器前使用标签名
4. 尽量不要在选择器中定义过多的层级，最好不要超过三层

CSS 样式还是以可维护性为主，提升性能为辅，要在保证 CSS 样式的可维护性前提下编写高性能的 CSS 选择器。

<!-- more -->

## CSS 相关的图片处理

### 不要设置图片的尺寸

如果图片原始尺寸不符合实际的设计需求，在使用的过程中就会存在性能问题。

### 使用 CSS “雪碧” 图（CSS Sprite）技术

可将零散的背景图合并为一张大图，再利用 CSS 的 background-position 进行背景定位。

#### 优点：

1. 减少了网络请求的次数
2. 提高了图片整体的加载速度

#### 缺点：

1. 开发过程繁琐
2. 维护过程复杂
3. 使用不当，则会导致性能问题

#### 使用 CSS Sprite 技术的最佳实践

1. 在项目的后期应用 CSS Sprite 技术
2. 合理组织 “雪碧” 图，按模块划分方便代码维护，按风格划分方便背景图的维护以及网站整体风格的更改
3. 控制 “雪碧” 图尺寸，长乘宽不超过 2500，控制大小在 200KB 以内，超过 200KB，就按模块分割为多个 “雪碧” 图。
4. 合理控制背景图单元之间的距离以及背景图的位置。

#### 借助工具

在线 CSS Sprite 生成器：CSS Sprite Generator

已经存在完整的 “雪碧” 图：Sprite Cow

如果网站已经开发完成，则可以使用：SpriteMe

## 减少 CSS 的代码量

### 定义简洁的 CSS 规则

CSS 的每条规则中都包含了规则的属性和属性值。

定义简洁的 CSS 规则主要是指合并相关规则和定义简洁的属性值。

### 合并相关 CSS 规则

### 定义简洁的属性值

1. 省略小数点前的 0
2. 简化颜色值

### 应用选择器分组，合并相同的定义

### 删除无效的定义

## CSS 其他高性能实践

1. 避免使用 @import
2. 避免使用 IE 特有的样式： 图片滤镜和 CSS 表达式


