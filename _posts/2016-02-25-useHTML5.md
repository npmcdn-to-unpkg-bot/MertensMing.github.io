---
title: HTML 最佳实践之积极拥抱 HTML5
date: 2016-02-25 21:13:23
categories: 前端规范
tags: HTML
---
## HTML5 新特性的使用

### 简化的定义方式

1. 定义文档类型声明 `<!DOCTYPE html>`
2. 定义页面编码 `<meta charset="UTF-8">`
3. 样式和脚本文件的引用，可简化

```html
<link rel="stylesheet" href="/css/lib/base.css"/>
<script src="jquery.min.js"></script>
```

### 新标签和新属性

#### 新标签

新标签分为三部分：语义化标签、功能性标签、新的输入控件类型

如下是一个符合 HTML5 规范的页面结构：

```html
<body>
    <header id="header">...</header>
    <nav id="navigation">...</nav>
    <section id="main">...</section>
    <aside id="sidebar">...</aside>
    <footer id="footer">...</footer>
</body>
```

<!-- more -->

##### 语义化标签：

`section` `article` `aside` `hgroup` `header` `footer` `nav` `figure` `figcaption`

##### 功能性标签：

这些标签的使用代替了原来需要使用第三方插件才能实现的效果。

`svg` `canvas` `audio` `video`

##### 新的控件类型

`tel` `search` `url` `date` `email` `number` `range` `color`

在不支持的浏览器中，会平稳降级为普通的 text 类型输入控件

#### 新增的标签属性

1. `<script>` 标签的 async 属性
2. `<base>` 标签的 target 属性
3. `<input>` 和 `<textarea>` 中的 `placeholder`、`required`、`autofocus` 属性
4. 标签上自定义属性 `data-*`， IE7 及以下不支持

部分标签和属性已经变更：

`<i>` `<b>` `<u>` `<small>` 改变了原来的语义

`<script>` 标签除了可以包含脚本代码之外，还可以包含用户自定义的数据块

## 不要使用 HTML5 中已经废弃的标签和属性

1. 标签仅仅用于设置外观，没有任何语义，而且这类标签可以用 CSS 来代替，`<big>` `<basefont>` `<center>` `<font>` `<strike>` `<tr>`
2. 标签破坏了可用性 `<frame>` `<frameset>` `<noframes>`
3. 标签很少被使用或者有更好的替代标签，标签 `<acronym>` `<applet>` `<dir>` 对应的代替标签是 `<abbr>` `<object>` `<ul>`

## 处理浏览器的兼容问题

### 让浏览器识别 HTML5 中的新标签

**方式一：Coding JavaScript**
 
如果是 IE9 以下的 IE 浏览器将创建 HTML5 标签， 这样 非IE 浏览器就会忽视这段代码，也就不会有无谓的 http 请求了。

```html
<!--[if lt IE 9]> 
<script> 
   (function() {
     if (! 
     /*@cc_on!@*/
     0) return;
     var e = "abbr, article, aside, audio, canvas, datalist, details, dialog, eventsource, figure, footer, header, hgroup, mark, menu, meter, nav, output, progress, section, time, video".split(', ');
     var i= e.length;
     while (i--){
         document.createElement(e[i])
     } 
})() 
</script>
<![endif]-->
```

**第二种方法：使用Google的html5shiv包（推荐）**

```html
<!--[if lt IE 9]> 
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
```

管使用以上哪种方法,都要初始化新标签的CSS.
因为 HTML5 在默认情况下表现为内联元素，对这些元素进行布局我们需要利用CSS手工把它们转为块状元素方便布局

```css
/*html5*/
article,aside,dialog,footer,header,section,footer,nav,figure,menu{display:block}
```

### HTML5 中新特性的向后兼容

`Modernizr` 框架

### 音频和视频的兼容

兼容代码可以是提示信息，也可以是第三方 Flash 播放器，或者直接提供一个下载链接

```html
<audio controls>
    <source src="elvis.mp3" type="audio/mpeg; codecs='mp3'">
    <source src="elvis.oga" type="audio/ogg; codecs='vorbis'">
    <!-- 向后兼容代码 -->
    浏览器不支持 <code>audio</code> 标签
</audio>
```